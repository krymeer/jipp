declare
fun {Player Id L}
   case L
   of H|T then
      {Browse Id#H}
      {Delay 1000}
      if H == 'ping' then
	 'pong'|{Player Id T}
      else
	 'ping'|{Player Id T}
      end
   end
end

declare
proc {Game T1 T2}
   thread T1 = {Player 'p1' T2} end
   thread T2 = 'ping'|{Player 'p2' T1} end
end

declare P1 P2
{Game P1 P2}
